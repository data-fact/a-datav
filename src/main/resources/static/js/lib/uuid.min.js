var UUID;UUID=(function(overwrittenUUID){"use strict";UUID.generate=function(){var rand=UUID._getRandomInt,hex=UUID._hexAligner;return hex(rand(32),8)+"-"+hex(rand(16),4)+"-"+hex(0x4000|rand(12),4)+"-"+hex(0x8000|rand(14),4)+"-"+hex(rand(48),12)};UUID._getRandomInt=function(x){if(x<0||x>53){return NaN}var n=0|Math.random()*0x40000000;return x>30?n+(0|Math.random()*(1<<x-30))*0x40000000:n>>>30-x};UUID._hexAligner=function(num,length){var str=num.toString(16),i=length-str.length,z="0";for(;i>0;i>>>=1,z+=z){if(i&1){str=z+str}}return str};UUID.overwrittenUUID=overwrittenUUID;(function(){var mathPRNG=UUID._getRandomInt;UUID.useMathRandom=function(){UUID._getRandomInt=mathPRNG};var crypto=null,cryptoPRNG=mathPRNG;if(typeof window!=="undefined"&&(crypto=window.crypto||window.msCrypto)){if(crypto.getRandomValues&&typeof Uint32Array!=="undefined"){cryptoPRNG=function(x){if(x<0||x>53){return NaN}var ns=new Uint32Array(x>32?2:1);ns=crypto.getRandomValues(ns)||ns;return x>32?ns[0]+(ns[1]>>>64-x)*0x100000000:ns[0]>>>32-x}}}else if(typeof require!=="undefined"&&(crypto=require("crypto"))){if(crypto.randomBytes){cryptoPRNG=function(x){if(x<0||x>53){return NaN}var buf=crypto.randomBytes(x>32?8:4),n=buf.readUInt32BE(0);return x>32?n+(buf.readUInt32BE(4)>>>64-x)*0x100000000:n>>>32-x}}}UUID._getRandomInt=cryptoPRNG})();UUID.FIELD_NAMES=["timeLow","timeMid","timeHiAndVersion","clockSeqHiAndReserved","clockSeqLow","node"];UUID.FIELD_SIZES=[32,16,16,8,8,48];UUID.genV4=function(){var rand=UUID._getRandomInt;return new UUID()._init(rand(32),rand(16),0x4000|rand(12),0x80|rand(6),rand(8),rand(48))};UUID.parse=function(strId){var r,p=/^\s*(urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(\})?\s*$/i;if(r=p.exec(strId)){var l=r[1]||"",t=r[8]||"";if(((l+t)==="")||(l==="{"&&t==="}")||(l.toLowerCase()==="urn:uuid:"&&t==="")){return new UUID()._init(parseInt(r[2],16),parseInt(r[3],16),parseInt(r[4],16),parseInt(r[5],16),parseInt(r[6],16),parseInt(r[7],16))}}return null};UUID.prototype._init=function(){var names=UUID.FIELD_NAMES,sizes=UUID.FIELD_SIZES;var bin=UUID._binAligner,hex=UUID._hexAligner;this.intFields=new Array(6);this.bitFields=new Array(6);this.hexFields=new Array(6);for(var i=0;i<6;i++){var intValue=parseInt(arguments[i]||0);this.intFields[i]=this.intFields[names[i]]=intValue;this.bitFields[i]=this.bitFields[names[i]]=bin(intValue,sizes[i]);this.hexFields[i]=this.hexFields[names[i]]=hex(intValue,sizes[i]>>>2)}this.version=(this.intFields.timeHiAndVersion>>>12)&0xF;this.bitString=this.bitFields.join("");this.hexNoDelim=this.hexFields.join("");this.hexString=this.hexFields[0]+"-"+this.hexFields[1]+"-"+this.hexFields[2]+"-"+this.hexFields[3]+this.hexFields[4]+"-"+this.hexFields[5];this.urn="urn:uuid:"+this.hexString;return this};UUID._binAligner=function(num,length){var str=num.toString(2),i=length-str.length,z="0";for(;i>0;i>>>=1,z+=z){if(i&1){str=z+str}}return str};UUID.prototype.toString=function(){return this.hexString};UUID.prototype.equals=function(uuid){if(!(uuid instanceof UUID)){return false}for(var i=0;i<6;i++){if(this.intFields[i]!==uuid.intFields[i]){return false}}return true};UUID.NIL=new UUID()._init(0,0,0,0,0,0);UUID.genV1=function(){if(UUID._state==null){UUID.resetState()}var now=new Date().getTime(),st=UUID._state;if(now!=st.timestamp){if(now<st.timestamp){st.sequence++}st.timestamp=now;st.tick=UUID._getRandomInt(4)}else if(Math.random()<UUID._tsRatio&&st.tick<9984){st.tick+=1+UUID._getRandomInt(4)}else{st.sequence++}var tf=UUID._getTimeFieldValues(st.timestamp);var tl=tf.low+st.tick;var thav=(tf.hi&0xFFF)|0x1000;st.sequence&=0x3FFF;var cshar=(st.sequence>>>8)|0x80;var csl=st.sequence&0xFF;return new UUID()._init(tl,tf.mid,thav,cshar,csl,st.node)};UUID.resetState=function(){UUID._state=new UUIDState()};function UUIDState(){var rand=UUID._getRandomInt;this.timestamp=0;this.sequence=rand(14);this.node=(rand(8)|1)*0x10000000000+rand(40);this.tick=rand(4)}UUID._tsRatio=1/4;UUID._state=null;UUID._getTimeFieldValues=function(time){var ts=time-Date.UTC(1582,9,15);var hm=((ts/0x100000000)*10000)&0xFFFFFFF;return{low:((ts&0xFFFFFFF)*10000)%0x100000000,mid:hm&0xFFFF,hi:hm>>>16,timestamp:ts}};function UUID(){}if(typeof module==="object"&&typeof module.exports==="object"){module.exports=UUID}return UUID})(UUID);